(global.webpackJsonp=global.webpackJsonp||[]).push([["components/invinbg-image-cropper/invinbg-image-cropper"],{687:
/*!***************************************************************************************************************************!*\
  !*** /Users/vincent/Documents/project/code/oneself/jinxiaocun/components/invinbg-image-cropper/invinbg-image-cropper.vue ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var o=i(/*! ./invinbg-image-cropper.vue?vue&type=template&id=4c9dca4c&scoped=true& */688),r=i(/*! ./invinbg-image-cropper.vue?vue&type=script&lang=js& */690);for(var s in r)"default"!==s&&function(t){i.d(e,t,function(){return r[t]})}(s);i(/*! ./invinbg-image-cropper.vue?vue&type=style&index=0&id=4c9dca4c&scoped=true&lang=css& */692);var n=i(/*! ../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */14),a=Object(n.default)(r.default,o.render,o.staticRenderFns,!1,null,"4c9dca4c",null,!1,o.components,void 0);a.options.__file="Users/vincent/Documents/project/code/oneself/jinxiaocun/components/invinbg-image-cropper/invinbg-image-cropper.vue",e.default=a.exports},688:
/*!**********************************************************************************************************************************************************************!*\
  !*** /Users/vincent/Documents/project/code/oneself/jinxiaocun/components/invinbg-image-cropper/invinbg-image-cropper.vue?vue&type=template&id=4c9dca4c&scoped=true& ***!
  \**********************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,i){"use strict";i.r(e);var o=i(/*! -!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./invinbg-image-cropper.vue?vue&type=template&id=4c9dca4c&scoped=true& */689);i.d(e,"render",function(){return o.render}),i.d(e,"staticRenderFns",function(){return o.staticRenderFns}),i.d(e,"recyclableRender",function(){return o.recyclableRender}),i.d(e,"components",function(){return o.components})},689:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/vincent/Documents/project/code/oneself/jinxiaocun/components/invinbg-image-cropper/invinbg-image-cropper.vue?vue&type=template&id=4c9dca4c&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,i){"use strict";i.r(e),i.d(e,"render",function(){return o}),i.d(e,"staticRenderFns",function(){return s}),i.d(e,"recyclableRender",function(){return r}),i.d(e,"components",function(){});var o=function(){var t=this.$createElement;this._self._c},r=!1,s=[];o._withStripped=!0},690:
/*!****************************************************************************************************************************************************!*\
  !*** /Users/vincent/Documents/project/code/oneself/jinxiaocun/components/invinbg-image-cropper/invinbg-image-cropper.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var o=i(/*! -!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./invinbg-image-cropper.vue?vue&type=script&lang=js& */691),r=i.n(o);for(var s in o)"default"!==s&&function(t){i.d(e,t,function(){return o[t]})}(s);e.default=r.a},691:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/vincent/Documents/project/code/oneself/jinxiaocun/components/invinbg-image-cropper/invinbg-image-cropper.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"image-cropper",props:{cropWidth:{type:Number,default:200},cropHeight:{type:Number,default:200},cropFixed:{type:Boolean,default:!1},src:{type:String},showResetBtn:{type:Boolean,default:!0},showRotateBtn:{type:Boolean,default:!0}},data:function(){var e=t.getSystemInfoSync();return{show:!1,scale:1,rotate:0,cropW:0,cropH:0,cropOldW:0,cropOldH:0,sysInfo:e,pixelRatio:e.pixelRatio,imageRealWidth:0,imageRealHeight:0,cropOffsertX:0,cropOffsertY:0,startX:0,startY:0,border:5,x:0,y:0,startL:0,oldScale:1}},watch:{src:function(t){t.length>0&&this.init()},show:function(t){t||(this.src="")}},computed:{containerTop:function(){return 0},containerHeight:function(){return this.windowHeight-48},windowWidth:function(){return this.sysInfo.windowWidth},windowHeight:function(){return this.sysInfo.windowHeight},imageRatio:function(){return this.imageRealHeight>0?this.imageRealWidth/this.imageRealHeight:0},imageWidth:function(){return this.imageRatio>=1?this.windowWidth:this.windowWidth*this.imageRatio},imageHeight:function(){return this.imageRatio>=1?this.windowWidth/this.imageRatio:this.windowWidth}},methods:{rotateHandler:function(){3==this.rotate?this.rotate=0:++this.rotate},init:function(){this.rotate=0,this.scale=1,this.cropW=this.cropWidth,this.cropH=this.cropHeight,t.showLoading({title:"图片加载中..."}),this.loadImage(this.src).then(function(e){t.hideLoading()}).catch(function(e){t.hideLoading(),t.showModal({title:"标题",content:"图片加载失败"})})},loadImage:function(e){var i=this;return new Promise(function(o,r){t.getImageInfo({src:e,success:function(t){i.imageRealWidth=t.width,i.imageRealHeight=t.height,i.cropOffsertX=i.windowWidth/2-i.cropW/2,i.cropOffsertY=i.windowHeight/2-i.cropH/2,i.show=!0,i.$nextTick(function(){i.x=i.windowWidth/2-i.imageWidth/2,i.y=i.containerHeight/2-i.imageHeight/2}),o(t)},fail:function(t){i.show=!1,r(t)}})})},cancel:function(){this.show=!1,this.$emit("cancel")},confirm:function(e){t.showLoading({title:"裁剪中..."});var i=this,o=t.createCanvasContext("myCanvas",i),r=i.pixelRatio,s=i.src,n=i.imageWidth*i.scale,a=i.imageHeight*i.scale,c=i.rotate,h=i.cropOffsertX-i.x-(i.imageWidth-n)/2,d=i.cropOffsertY-i.y-(i.imageHeight-a)/2;switch(o.setFillStyle("white"),o.fillRect(0,0,n,a),o.save(),o.rotate(90*c*Math.PI/180),c){case 1:h+=(a-n)/2,d-=(a-n)/2,o.drawImage(s,-d,h,n,-a);break;case 2:o.drawImage(s,h,d,-n,-a);break;case 3:h+=(a-n)/2,d-=(a-n)/2,o.drawImage(s,d,-h,-n,a);break;default:o.drawImage(s,-h,-d,n,a)}o.restore(),o.draw(!1,function(){t.canvasToTempFilePath({canvasId:"myCanvas",destWidth:i.cropW*r,destHeight:i.cropH*r,success:function(o){t.hideLoading(),e.detail.tempFilePath=o.tempFilePath,i.show=!1,i.$emit("confirm",e)},fail:function(e){t.hideLoading(),t.showModal({title:"提示",content:"裁剪失败"})}},i)})},imgTouchStart:function(e){if(2==e.touches.length){this.oldScale=this.scale,this.scaling=!0;var i=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(Math.pow(i,2)+Math.pow(o,2));this.startL=Math.max(i,o,r),t.showModal({content:this.startL})}else this.startX=e.touches[0].pageX-this.x,this.startY=e.touches[0].pageY-this.y},imgMoveing:function(t){if(this.scaling){var e=this.oldScale,i=t.touches[0].pageX-t.touches[1].pageX,o=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(Math.pow(i,2)+Math.pow(o,2)),s=Math.max(i,o,r)-this.startL,n=1,a=(n=(n=n/this.imageWidth>n/this.imageHeight?n/this.imageHeight:n/this.imageWidth)>.1?.1:n)*s;s>0?e+=Math.abs(a):s<0&&e>Math.abs(a)&&(e-=Math.abs(a)),this.scale=e}else{var c=t.touches[0].pageX-this.startX,h=t.touches[0].pageY-this.startY;this.x=c,this.y=h}},imgMoveEnd:function(){var t=this;setTimeout(function(){t.scaling=!1},100)},touchStart:function(t){this.startX=t.touches[0].pageX-this.cropOffsertX,this.startY=t.touches[0].pageY-this.cropOffsertY,this.cropOldW=this.cropW,this.cropOldH=this.cropH},cropMoveing:function(t){var e=this._cropX(t.touches[0].pageX-this.startX),i=this._cropY(t.touches[0].pageY-this.startY);this.cropOffsertX=e,this.cropOffsertY=i},dragMove:function(t,e){if(this.cropFixed)return!1;var i=t.touches[0].pageX-this.startX,o=t.touches[0].pageY-this.startY;switch(e){case"left-top":this._cropMoveLeft(i),this._cropMoveTop(o);break;case"middle-top":this._cropMoveTop(o);break;case"right-top":this._cropMoveTop(o),this._cropMoveRight(i);break;case"middle-right":this._cropMoveRight(i);break;case"right-bottom":this._cropMoveRight(i),this._cropMoveBottom(o);break;case"middle-bottom":this._cropMoveBottom(o);break;case"left-bottom":this._cropMoveBottom(o),this._cropMoveLeft(i);break;case"middle-left":this._cropMoveLeft(i)}},_cropMoveTop:function(t){var e=this._cropY(t);this.cropH+=this.cropOffsertY-e,this.cropOffsertY=e},_cropMoveRight:function(t){if(this.cropOldW+t>=this.windowWidth-this.border)return!1;this.cropW=this.cropOldW+(t-this.cropOffsertX)},_cropMoveBottom:function(t){if(this.cropOldH+t>=this.windowHeight-this.containerTop-this.border)return!1;this.cropH=this.cropOldH+(t-this.cropOffsertY)},_cropMoveLeft:function(t){var e=this._cropY(t);this.cropW+=this.cropOffsertX-e,this.cropOffsertX=e},_cropX:function(t){return t<=this.border?this.border:t+this.cropW>=this.windowWidth-this.border?this.windowWidth-this.cropW-this.border:t},_cropY:function(t){return t<=this.border?this.border:t+this.cropH>=this.windowHeight-this.containerTop-this.border?this.windowHeight-this.cropH-this.containerTop-this.border:t}}};e.default=i}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1).default)},692:
/*!************************************************************************************************************************************************************************************!*\
  !*** /Users/vincent/Documents/project/code/oneself/jinxiaocun/components/invinbg-image-cropper/invinbg-image-cropper.vue?vue&type=style&index=0&id=4c9dca4c&scoped=true&lang=css& ***!
  \************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){"use strict";i.r(e);var o=i(/*! -!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader??ref--6-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--6-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./invinbg-image-cropper.vue?vue&type=style&index=0&id=4c9dca4c&scoped=true&lang=css& */693),r=i.n(o);for(var s in o)"default"!==s&&function(t){i.d(e,t,function(){return o[t]})}(s);e.default=r.a},693:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/vincent/Documents/project/code/oneself/jinxiaocun/components/invinbg-image-cropper/invinbg-image-cropper.vue?vue&type=style&index=0&id=4c9dca4c&scoped=true&lang=css& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,i){}}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/invinbg-image-cropper/invinbg-image-cropper.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/invinbg-image-cropper/invinbg-image-cropper-create-component',
    {
        'components/invinbg-image-cropper/invinbg-image-cropper-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(687))
        })
    },
    [['components/invinbg-image-cropper/invinbg-image-cropper-create-component']]
]);
