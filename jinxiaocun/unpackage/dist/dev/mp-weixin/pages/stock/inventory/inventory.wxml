<view class="container data-v-748c9705"><view style="{{'height:'+(headerHeight+'px')+';'}}" class="data-v-748c9705"><uni-navbar vue-id="1" title="{{title}}" left-icon="back" background-color="#2d8cf0" color="#fff" status-bar fixed data-event-opts="{{[['^clickLeft',[['handleNavbarClickLeft']]]]}}" bind:clickLeft="__e" class="data-v-748c9705" bind:__l="__l"></uni-navbar></view><view class="main data-v-748c9705" style="{{'height:'+(mainHeight+'px')+';'}}"><scroll-view class="fill data-v-748c9705" scroll-y="{{true}}"><cu-panel vue-id="2" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><cu-cell vue-id="{{('3')+','+('2')}}" title="盘点类型" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><radio-group data-event-opts="{{[['change',[['handleTypeChange',['$event']]]]]}}" bindchange="__e" class="data-v-748c9705"><radio color="#2d8cf0" value="1" checked="{{reqData.type==1}}" class="data-v-748c9705">盘盈</radio><radio style="margin-left:10px;" color="#2d8cf0" value="2" checked="{{reqData.type==2}}" class="data-v-748c9705">盘亏</radio></radio-group></cu-cell></cu-panel><cu-panel vue-id="4" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{!searchCurrentUnit}}"><cu-cell vue-id="{{('5')+','+('4')}}" title="选择产品" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><uni-search-bar style="width:67%;" vue-id="{{('6')+','+('5')}}" placeholder="输入速查码/名称" cancelButton="none" data-ref="sp" data-event-opts="{{[['^input',[['handleSearchProduct']]]]}}" bind:input="__e" class="data-v-748c9705 vue-ref" bind:__l="__l"></uni-search-bar></cu-cell></block></cu-panel><block wx:if="{{searchProduct}}"><cu-panel vue-id="7" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><uni-list vue-id="{{('8')+','+('7')}}" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{productSearchDatas}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-list-item vue-id="{{('9-'+index)+','+('8')}}" title="{{item.productname}}" note="{{'速查码：'+item.querycode}}" showArrow="{{false}}" data-event-opts="{{[['^tap',[['handleSelectProduct',['$0'],[[['productSearchDatas','',index]]]]]]]}}" bind:tap="__e" class="data-v-748c9705" bind:__l="__l"></uni-list-item></block></uni-list></cu-panel></block><block wx:if="{{!searchProduct&&reqData.productList.length>0}}"><cu-panel vue-id="10" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><cu-cell-group vue-id="{{('11')+','+('10')}}" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{reqData.productList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><cu-cell vue-id="{{('12-'+index)+','+('11')}}" title="{{item.productname}}" label="{{'销售数量：'+item.num+'|计量单位：'+curUnit+'|建议零售价：'+item.price}}" data-event-opts="{{[['^tap',[['handleShowPopup',['$0'],[[['reqData.productList','',index]]]]]]]}}" bind:tap="__e" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['footer']}}"><view style="color:#808695;" slot="footer" data-event-opts="{{[['tap',[['handleDelete',['$0'],[[['reqData.productList','',index]]]]]]]}}" bindtap="__e" class="data-v-748c9705"><uni-icons vue-id="{{('13-'+index)+','+('12-'+index)}}" type="delete" color="#ed3f14" class="data-v-748c9705" bind:__l="__l"></uni-icons></view></cu-cell></block></cu-cell-group></cu-panel></block></scroll-view></view><view class="footer data-v-748c9705"><text class="footer-text data-v-748c9705">{{"合计金额：￥"+reqData.totalPrice}}</text><button class="footer-btn data-v-748c9705" style="background-color:#2d8cf0;" type="primary" disabled="{{disableSubmit}}" data-event-opts="{{[['tap',[['handleSubmit',['$event']]]]]}}" bindtap="__e">提交</button></view><uni-popup vue-id="14" type="bottom" data-ref="popup" class="data-v-748c9705 vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><cu-panel vue-id="{{('15')+','+('14')}}" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><cu-cell vue-id="{{('16')+','+('15')}}" title="数量" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><uni-number-box vue-id="{{('17')+','+('16')}}" min="{{1}}" value="{{curSelectPruduct.num}}" data-event-opts="{{[['^change',[['handleNumChange']]]]}}" bind:change="__e" class="data-v-748c9705" bind:__l="__l"></uni-number-box></cu-cell><cu-cell vue-id="{{('18')+','+('15')}}" title="计量单位" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['default']}}"><radio-group data-event-opts="{{[['change',[['handleUnitChange',['$event']]]]]}}" bindchange="__e" class="data-v-748c9705"><radio color="#2db7f5" value="0" checked="{{checkedUnit==0}}" class="data-v-748c9705">主计量单位</radio><radio style="margin-left:10px;" color="#2db7f5" value="1" checked="{{checkedUnit==1}}" class="data-v-748c9705">辅计量单位</radio></radio-group></cu-cell><cu-cell vue-id="{{('19')+','+('15')}}" title="单价" class="data-v-748c9705" bind:__l="__l" vue-slots="{{['footer']}}"><input slot="footer" type="text" data-event-opts="{{[['input',[['__set_model',['$0','price','$event',[]],['curSelectPruduct']]]]]}}" value="{{curSelectPruduct.price}}" bindinput="__e" class="data-v-748c9705"/></cu-cell></cu-panel><button style="background-color:#2d8cf0;" type="primary" data-event-opts="{{[['tap',[['handleEdit',['$event']]]]]}}" bindtap="__e" class="data-v-748c9705">确定</button></uni-popup></view>