(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/myorder","components/custom/cu-loading"],{1226:function(t,n,e){"use strict";var o=e("d551"),a=e.n(o);a.a},"14da":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("94a7"),a=e("f45c");c(e("a8d7"));function c(t){return t&&t.__esModule?t:{default:t}}var i=function(){return e.e("components/uni-list/uni-list").then(e.bind(null,"3140"))},s=function(){return e.e("components/uni-list-item/uni-list-item").then(e.bind(null,"d2d2"))},u=function(){return e.e("components/uni-load-more/uni-load-more").then(e.bind(null,"af96"))},r=function(){return e.e("components/wuc-tab/wuc-tab").then(e.bind(null,"4f14"))},l=function(){return e.e("components/helang-checkbox/helang-checkbox").then(e.bind(null,"a523"))},d={components:{uniLoadMore:u,uniList:i,uniListItem:s,WucTab:r,"helang-checkbox":l},data:function(){return{loadmore:"more",pageIndex:0,pageRows:15,title:"续费/订单",pickerIndex:2,TabCur:0,content_show_id:0,dataList:[],tabList:[{name:"续费"},{name:"我的订单"}],OrderStatusList:["待支付","已支付"],PayTypeList:{0:"",1:"银行账号",2:"微信",3:"支付宝",4:"现金"},productList:[]}},onLoad:function(){this.pickerIndex=3,this.loadProduct()},onShow:function(){},mounted:function(){},methods:{handleRefreshPage:function(){console.log("refreshpage")},handleNavbarClickLeft:function(){t.navigateBack({delta:1})},tabChange:function(t){switch(console.log(t),t){case 0:this.content_show_id=0,this.$refs.checkbox.set({type:"radio",column:2,list:this.list}),this.pickerIndex=3;break;case 1:this.content_show_id=1;break;default:this.content_show_id=0;break}},handleSubmit:function(){var n=this,e=this.$refs.checkbox.get();console.log("发起支付:"+e.value),this.loading=!0,t.login({success:function(o){console.log("login success",o),t.request({url:"https://unidemo.dcloud.net.cn/payment/wx/mp?code=".concat(o.code,"&amount=").concat(e.value),success:function(e){if(console.log("pay request success",e),200===e.statusCode)if(0===e.data.ret){console.log("得到接口prepay_id",e.data.payment);var o=e.data.payment;t.requestPayment({timeStamp:o.timeStamp,nonceStr:o.nonceStr,package:o.package,signType:"MD5",paySign:o.paySign,success:function(n){t.showToast({title:"感谢您的赞助!"})},fail:function(n){t.showModal({content:"支付失败,原因为: "+n.errMsg,showCancel:!1})},complete:function(){n.loading=!1}})}else t.showModal({content:e.data.desc,showCancel:!1});else t.showModal({content:"支付失败，请重试！",showCancel:!1})},fail:function(e){console.log("fail",e),n.loading=!1,t.showModal({content:"支付失败,原因为: "+e.errMsg,showCancel:!1})}})},fail:function(e){console.log("fail",e),n.loading=!1,t.showModal({content:"支付失败,原因为: "+e.errMsg,showCancel:!1})}})},loadProduct:function(){var t=this;this.$refs.loading.open();var n={pageIndex:1,pageRows:-1};(0,o.tokenpost)(a.api.GetProductList,n).then(function(n){t.$refs.loading.close(),200==n.status&&"0000"==n.data.returnCode?(t.productList=n.data.data.resultList,console.log(t.productList)):t.$api.msg(n.data.returnMessage)}).catch(function(n){t.loadmore="more",t.$refs.loading.close(),t.$api.msg("请求失败fail")})},loadData:function(){var t=this;this.loadmore="loading",this.$refs.loading.open();var n={pageIndex:this.pageIndex+1,pageRows:this.pageRows};(0,o.tokenpost)(a.api.GetOrderList,n).then(function(n){if(t.$refs.loading.close(),200==n.status&&"0000"==n.data.returnCode){if(0===n.data.data.resultList.length)return void(t.loadmore="noMore");t.dataList=t.dataList.concat(n.data.data.resultList),t.pageIndex=t.pageIndex+1,t.loadmore="more"}else t.loadmore="more",t.$api.msg(n.data.returnMessage)}).catch(function(n){t.loadmore="more",t.$refs.loading.close(),t.$api.msg("请求失败fail")})}}};n.default=d}).call(this,e("543d")["default"])},"20c6":function(t,n,e){},4653:function(t,n,e){"use strict";var o,a=function(){var t=this,n=t.$createElement;t._self._c},c=[];e.d(n,"b",function(){return a}),e.d(n,"c",function(){return c}),e.d(n,"a",function(){return o})},5088:function(t,n,e){"use strict";e.r(n);var o=e("8287"),a=e.n(o);for(var c in o)"default"!==c&&function(t){e.d(n,t,function(){return o[t]})}(c);n["default"]=a.a},"6f5e":function(t,n,e){"use strict";(function(t){e("fdae"),e("921b");o(e("66fd"));var n=o(e("797c"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"797c":function(t,n,e){"use strict";e.r(n);var o=e("4653"),a=e("f9e5");for(var c in a)"default"!==c&&function(t){e.d(n,t,function(){return a[t]})}(c);e("8838");var i,s=e("f0c5"),u=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"2e46adf3",null,!1,o["a"],i);n["default"]=u.exports},8287:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o={name:"cu-loading",data:function(){return{show:!1,text:"加载中...",mask:!0,click:!0}},methods:{preventTouchMove:function(){console.log("stop user scroll it!")},Mclose:function(){"false"!=this.click&&0!=this.click||(this.show=!1)},open:function(){this.show=!0},close:function(){this.show=!1}}};n.default=o},8838:function(t,n,e){"use strict";var o=e("20c6"),a=e.n(o);a.a},a8d7:function(t,n,e){"use strict";e.r(n);var o=e("c925"),a=e("5088");for(var c in a)"default"!==c&&function(t){e.d(n,t,function(){return a[t]})}(c);e("1226");var i,s=e("f0c5"),u=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"48bbf381",null,!1,o["a"],i);n["default"]=u.exports},c925:function(t,n,e){"use strict";var o,a=function(){var t=this,n=t.$createElement;t._self._c},c=[];e.d(n,"b",function(){return a}),e.d(n,"c",function(){return c}),e.d(n,"a",function(){return o})},d551:function(t,n,e){},f9e5:function(t,n,e){"use strict";e.r(n);var o=e("14da"),a=e.n(o);for(var c in o)"default"!==c&&function(t){e.d(n,t,function(){return o[t]})}(c);n["default"]=a.a}},[["6f5e","common/runtime","common/vendor"]]]);