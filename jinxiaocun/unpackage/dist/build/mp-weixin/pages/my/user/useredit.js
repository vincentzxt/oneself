(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/user/useredit","components/custom/cu-loading","components/uni-popup/uni-popup"],{"0a86":function(t,e,n){"use strict";var a=n("caed"),i=n.n(a);i.a},1226:function(t,e,n){"use strict";var a=n("d551"),i=n.n(a);i.a},"186b":function(t,e,n){},2373:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a})},"37ab":function(t,e,n){"use strict";(function(t){n("fdae"),n("921b");a(n("66fd"));var e=a(n("d0f2"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},4395:function(t,e,n){"use strict";n.r(e);var a=n("2373"),i=n("4777");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("0a86");var r,u=n("f0c5"),s=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"3e46c635",null,!1,a["a"],r);e["default"]=s.exports},4777:function(t,e,n){"use strict";n.r(e);var a=n("55ce"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},5088:function(t,e,n){"use strict";n.r(e);var a=n("8287"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},"55ce":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=function(){return n.e("components/uni-transition/uni-transition").then(n.bind(null,"e83d"))},i={name:"UniPopup",components:{uniTransition:a},props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0}},data:function(){return{ani:[],showPopup:!1,showTrans:!1,maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0}}},watch:{type:{handler:function(t){switch(this.type){case"top":this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0};break;case"bottom":this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0};break;case"center":this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"};break}},immediate:!0}},created:function(){},methods:{clear:function(t){t.stopPropagation()},open:function(){var t=this;this.showPopup=!0,this.$nextTick(function(){setTimeout(function(){t.showTrans=!0},50)}),this.$emit("change",{show:!0})},close:function(t){var e=this;this.showTrans=!1,this.$nextTick(function(){clearTimeout(e.timer),e.timer=setTimeout(function(){e.$emit("change",{show:!1}),e.showPopup=!1},300)})},onTap:function(){this.maskClick&&this.close()}}};e.default=i},8287:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"cu-loading",data:function(){return{show:!1,text:"加载中...",mask:!0,click:!0}},methods:{preventTouchMove:function(){console.log("stop user scroll it!")},Mclose:function(){"false"!=this.click&&0!=this.click||(this.show=!1)},open:function(){this.show=!0},close:function(){this.show=!1}}};e.default=a},a8d7:function(t,e,n){"use strict";n.r(e);var a=n("c925"),i=n("5088");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("1226");var r,u=n("f0c5"),s=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"48bbf381",null,!1,a["a"],r);e["default"]=s.exports},c24d:function(t,e,n){"use strict";var a=n("186b"),i=n.n(a);i.a},c925:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a})},caed:function(t,e,n){},d0f2:function(t,e,n){"use strict";n.r(e);var a=n("e920"),i=n("d3cb");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("c24d");var r,u=n("f0c5"),s=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"07559e9f",null,!1,a["a"],r);e["default"]=s.exports},d3cb:function(t,e,n){"use strict";n.r(e);var a=n("f19f"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},d551:function(t,e,n){},e920:function(t,e,n){"use strict";var a,i=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a})},f19f:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("94a7"),i=(o(n("a8d7")),n("f45c"));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(){return n.e("components/custom/cu-panel").then(n.bind(null,"00f1"))},u=function(){return n.e("components/custom/cu-cell").then(n.bind(null,"52a0"))},s=function(){return n.e("components/custom/cu-cell-group").then(n.bind(null,"13d0"))},l=function(){return n.e("components/uni-list/uni-list").then(n.bind(null,"3140"))},c=function(){return n.e("components/uni-list-item/uni-list-item").then(n.bind(null,"d2d2"))},d={components:{cuPanel:r,cuCell:u,cuCellGroup:s,uniList:l,uniListItem:c},data:function(){return{reqData:{userid:0,loginname:"",realname:"",telephone:"",email:"",password:"",roleid:0},rolename:"",roleindex:0,rolelist:[],userId:0,loading:!1,title:"编辑账号"}},onShow:function(){this.loadRole()},onLoad:function(t){this.userId=t.userid,this.loadData()},methods:{handleSexChanage:function(t){this.reqData.sex=t.detail.value},handleRoleChanage:function(t){console.log(t),this.reqData.roleid=this.rolelist[t.detail.value].roleid,this.rolename=this.rolelist[t.detail.value].rolename},handleNavbarClickLeft:function(){t.navigateBack({delta:1})},loadRole:function(){var t=this,e={pageIndex:1,pageRows:-1,roledtype:1};(0,a.tokenpost)(i.api.GetRoleList,e).then(function(e){200==e.status&&"0000"==e.data.returnCode?t.rolelist=e.data.data.resultList:t.$api.msg(e.data.returnMessage)}).catch(function(e){t.$api.msg("请求失败fail")})},loadData:function(){var t=this;this.$refs.loading.open();var e={userId:this.userId};(0,a.tokenpost)(i.api.GetUserInfoByUserId+"?userId="+this.userId,e).then(function(e){200==e.status?"0000"==e.data.returnCode?(t.reqData={userid:e.data.data.userid,loginname:e.data.data.loginname,realname:e.data.data.realname,telephone:e.data.data.telephone,email:e.data.data.email,roleid:e.data.data.roleid},setTimeout(function(){t.roleindex=t.arrayLookup(t.rolelist,"roleid",t.reqData.roleid),t.rolename=t.rolelist[t.roleindex].rolename},1e3)):(t.$api.msg(e.data.returnMessage),t.reqData={loginname:"",realname:"",telephone:"",companyname:"",expiredate:"",daycount:0,ordercount:"0"}):t.$api.msg(e.data.returnMessage),t.$refs.loading.close()}).catch(function(e){t.$refs.loading.close(),t.$api.msg("请求失败fail")})},arrayLookup:function(t,e,n){for(var a="",i=0;i<t.length;i++)if(t[i][e]==n){a=i;break}return a},handleSubmit:function(){var e=this,n=this.reqData,o=n.userid,r=n.loginname,u=n.realname,s=n.telephone,l=n.email,c=n.password,d=n.roleid;if(0!=u.length)if(11==s.length){var f={};f=""==c?{userid:o,loginname:r,realname:u,telephone:s,email:l,roleid:d}:{userid:o,loginname:r,realname:u,telephone:s,email:l,password:c,roleid:d},this.loading=!0,(0,a.tokenpost)(i.api.SaveUser,f).then(function(n){200==n.status&&"0000"==n.data.returnCode?(e.$api.msg(n.data.returnMessage),t.navigateBack({delta:1})):200==n.status&&"402"==n.data.returnCode?(e.$api.msg(n.data.returnMessage),t.reLaunch({url:"/pages/my/login/login"})):e.$api.msg(n.data.returnMessage),e.loading=!1}).catch(function(t){e.loading=!1,e.$api.msg("请求失败fail")})}else this.$api.msg("手机号码不正确！");else this.$api.msg("姓名不能为空！")}}};e.default=d}).call(this,n("543d")["default"])}},[["37ab","common/runtime","common/vendor"]]]);