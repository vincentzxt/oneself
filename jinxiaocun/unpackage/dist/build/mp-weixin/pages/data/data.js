(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/data/data"],{5793:function(t,e,i){"use strict";var a=i("5ffc"),n=i.n(a);n.a},"5ffc":function(t,e,i){},"67a8":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement;t._self._c},o=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return a})},bb8b:function(t,e,i){"use strict";i.r(e);var a=i("eabe"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=n.a},c6cb:function(t,e,i){"use strict";(function(t){i("fdae"),i("921b");a(i("66fd"));var e=a(i("f182"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},eabe:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(i("16c5")),n=i("f45c"),o=i("aba6");function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){return i.e("components/uni-list/uni-list").then(i.bind(null,"3140"))},l=function(){return i.e("components/uni-list-item/uni-list-item").then(i.bind(null,"d2d2"))},c=null,d=null,u={components:{uniList:s,uniListItem:l},data:function(){return{datas:{},title:"报表",cWidth:"",cHeight:"",rWidth:"",rHeight:"",pixelRation:1,date:"day",receivableRingArr:[],paymentRingArr:[],receivableRingTotal:0,paymentRingTotal:0,hotSellingProduct:[],slowSellingProduct:[]}},onLoad:function(){var e=this;this.cWidth=t.upx2px(750),this.cHeight=t.upx2px(400),this.rWidth=t.upx2px(550),this.rHeight=t.upx2px(400),this.$refs.loading.open(),(0,o.query)(n.api.report).then(function(t){e.$refs.loading.close(),200==t.status&&"0000"==t.data.returnCode&&(e.datas=t.data.data,e.hotSellingProduct=e.datas.hotSellingProduct,e.slowSellingProduct=e.datas.slowSellingProduct,e.getDayData(),e.getAccountData())}).catch(function(t){e.$refs.loading.close()})},onShow:function(){},methods:{handleDateChange:function(t){this.date=t},showSaleLine:function(t,e){new a.default({canvasId:t,type:"line",colors:["#51a9f3","#ef5a62","#90dc5d","#f7d767","#5cdbd3","#f29d6e","#b37fec"],fontSize:11,padding:[15,15,0,15],legend:{show:!0,padding:10,lineHeight:11,margin:0,fontColor:"#808695"},dataLabel:!1,dataPointShape:!0,background:"#FFFFFF",pixelRatio:this.pixelRatio,categories:e.categories,series:e.series,animation:!0,xAxis:{disableGrid:!0,axisLineColor:"#808695",fontColor:"#808695"},yAxis:{gridType:"solid",gridColor:"#f3f3f3",axisLineColor:"#808695",fontColor:"#808695"},width:this.cWidth*this.pixelRation,height:this.cHeight*this.pixelRation,extra:{line:{type:"straight"}}})},showReceivableRing:function(t,e){c=new a.default({canvasId:t,type:"ring",fontSize:11,colors:["#51a9f3","#ef5a62","#90dc5d","#f7d767","#5cdbd3","#f29d6e","#b37fec"],legend:{show:!0,position:"right",float:"center",itemGap:10,padding:5,lineHeight:26,margin:5,borderWidth:1,fontSize:14},title:{name:this.receivableRingTotal,color:"#1c2438",fontSize:20,offsetY:-8},subtitle:{name:"收款金额(元)",color:"#808695",fontSize:12,offsetY:-3},extra:{pie:{offsetAngle:-45,ringWidth:10,labelWidth:15}},background:"#FFFFFF",pixelRatio:1,series:e.series,animation:!0,width:this.rWidth*this.pixelRation,height:this.rHeight*this.pixelRation,dataLabel:!1}),this.receivableRingArr=c.opts.series},showPaymentRing:function(t,e){d=new a.default({canvasId:t,type:"ring",fontSize:11,colors:["#51a9f3","#ef5a62","#90dc5d","#f7d767","#5cdbd3","#f29d6e","#b37fec"],legend:{show:!0,position:"right",float:"center",itemGap:10,padding:5,lineHeight:26,margin:5,borderWidth:1,fontSize:14},title:{name:this.paymentRingTotal,color:"#1c2438",fontSize:20,offsetY:-8},subtitle:{name:"付款金额(元)",color:"#808695",fontSize:12,offsetY:-3},extra:{pie:{offsetAngle:-45,ringWidth:10,labelWidth:15}},background:"#FFFFFF",pixelRatio:1,series:e.series,animation:!0,width:this.rWidth*this.pixelRation,height:this.rHeight*this.pixelRation,dataLabel:!1}),this.paymentRingArr=d.opts.series},getDayData:function(){var t={categories:[],series:[]};t.series=[{name:"销售额",data:[],color:"#facc14"},{name:"利润",data:[],color:"#2fc25b"}];var e=!0,i=!1,a=void 0;try{for(var n,o=this.datas.last7DaySalesList[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var r=n.value;t.categories.push(r.date),t.series[0].data.push(parseInt(r.salesAmount)),t.series[1].data.push(parseInt(r.grossProfit))}}catch(s){i=!0,a=s}finally{try{e||null==o.return||o.return()}finally{if(i)throw a}}console.log(t),this.showSaleLine("saleLine",t)},getAccountData:function(){var t={series:[]},e={series:[]},i=!0,a=!1,n=void 0;try{for(var o,r=this.datas.receivedList[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var s=o.value;t.series.push({name:s.cashaccounttypedisplay,data:s.amount}),this.receivableRingTotal+=s.amount}}catch(g){a=!0,n=g}finally{try{i||null==r.return||r.return()}finally{if(a)throw n}}var l=!0,c=!1,d=void 0;try{for(var u,f=this.datas.paymentList[Symbol.iterator]();!(l=(u=f.next()).done);l=!0){var h=u.value;e.series.push({name:h.cashaccounttypedisplay,data:h.amount}),this.paymentRingTotal+=h.amount}}catch(g){c=!0,d=g}finally{try{l||null==f.return||f.return()}finally{if(c)throw d}}this.showReceivableRing("receivableRing",t),this.showPaymentRing("paymentRing",e)}}};e.default=u}).call(this,i("543d")["default"])},f182:function(t,e,i){"use strict";i.r(e);var a=i("67a8"),n=i("bb8b");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("5793");var r,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"57f2a2b4",null,!1,a["a"],r);e["default"]=l.exports}},[["c6cb","common/runtime","common/vendor"]]]);